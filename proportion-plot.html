
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Tutorial: Proportion Plots &#8212; dabest 0.3.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/alabaster-custom.css" />
    <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial: Mini-Meta Delta" href="minimetadelta.html" />
    <link rel="prev" title="Tutorial: Repeated Measures" href="repeatedmeasures.html" />

   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120627927-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120627927-1');
</script>


  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="tutorial-proportion-plots">
<span id="proportion-plots"></span><h1>Tutorial: Proportion Plots<a class="headerlink" href="#tutorial-proportion-plots" title="Permalink to this heading">¶</a></h1>
<p>As of v2023.02.14, DABEST can be used to produce Cohen’s <em>h</em> and the corresponding proportion plot for binary data. It’s important to note that the code we provide only supports numerical proportion data,
where the values are limited to 0 (failure) and 1 (success). This means that the code is not suitable for
analyzing proportion data that contains non-numeric values, such as strings like ‘yes’ and ‘no’.</p>
<section id="create-dataset-for-demo">
<h2>Create dataset for demo<a class="headerlink" href="#create-dataset-for-demo" title="Permalink to this heading">¶</a></h2>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>  <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 2</span>  <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span>  <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">9999</span><span class="p">)</span> <span class="c1"># Fix the seed so the results are replicable.</span>
<span class="linenos"> 5</span>  <span class="n">Ns</span> <span class="o">=</span> <span class="mi">40</span> <span class="c1"># The number of samples taken from each population</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span>  <span class="c1"># Create samples</span>
<span class="linenos"> 8</span>  <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos"> 9</span>  <span class="n">c1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">10</span>  <span class="n">c2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">11</span>  <span class="n">c3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span>  <span class="n">t1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">14</span>  <span class="n">t2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">15</span>  <span class="n">t3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">16</span>  <span class="n">t4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">17</span>  <span class="n">t5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">18</span>  <span class="n">t6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="linenos">19</span>
<span class="linenos">20</span>
<span class="linenos">21</span>  <span class="c1"># Add a `gender` column for coloring the data.</span>
<span class="linenos">22</span>  <span class="n">females</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;Female&#39;</span><span class="p">,</span> <span class="n">N</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="linenos">23</span>  <span class="n">males</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="n">N</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="linenos">24</span>  <span class="n">gender</span> <span class="o">=</span> <span class="n">females</span> <span class="o">+</span> <span class="n">males</span>
<span class="linenos">25</span>
<span class="linenos">26</span>  <span class="c1"># Add an `id` column for paired data plotting.</span>
<span class="linenos">27</span>  <span class="n">id_col</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="linenos">28</span>
<span class="linenos">29</span>  <span class="c1"># Combine samples and gender into a DataFrame.</span>
<span class="linenos">30</span>  <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Control 1&#39;</span><span class="p">:</span> <span class="n">c1</span><span class="p">,</span> <span class="s1">&#39;Test 1&#39;</span><span class="p">:</span> <span class="n">t1</span><span class="p">,</span>
<span class="linenos">31</span>                     <span class="s1">&#39;Control 2&#39;</span><span class="p">:</span> <span class="n">c2</span><span class="p">,</span> <span class="s1">&#39;Test 2&#39;</span><span class="p">:</span> <span class="n">t2</span><span class="p">,</span>
<span class="linenos">32</span>                     <span class="s1">&#39;Control 3&#39;</span><span class="p">:</span> <span class="n">c3</span><span class="p">,</span> <span class="s1">&#39;Test 3&#39;</span><span class="p">:</span> <span class="n">t3</span><span class="p">,</span>
<span class="linenos">33</span>                     <span class="s1">&#39;Test 4&#39;</span><span class="p">:</span> <span class="n">t4</span><span class="p">,</span> <span class="s1">&#39;Test 5&#39;</span><span class="p">:</span> <span class="n">t5</span><span class="p">,</span> <span class="s1">&#39;Test 6&#39;</span><span class="p">:</span> <span class="n">t6</span><span class="p">,</span>
<span class="linenos">34</span>                     <span class="s1">&#39;Gender&#39;</span><span class="p">:</span> <span class="n">gender</span><span class="p">,</span> <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="n">id_col</span>
<span class="linenos">35</span>                     <span class="p">})</span>
<span class="linenos">36</span>  <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
  /*  .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }


    } */
</style>
<table border="1" class="dataframe">
    <thead>
        <tr style="text-align: right;">
            <th></th>
            <th>Control 1</th>
            <th>Test 1</th>
            <th>Control 2</th>
            <th>Test 2</th>
            <th>Control 3</th>
            <th>Test 3</th>
            <th>Test 4</th>
            <th>Test 5</th>
            <th>Test 6</th>
            <th>Gender</th>
            <th>ID</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0</td>
            <td>1</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>1</td>
            <td>1</td>
            <td>0</td>
            <td>0</td>
            <td>1</td>
            <td>Female</td>
            <td>1</td>
        </tr>
        <tr>
            <td>1</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>1</td>
            <td>0</td>
            <td>1</td>
            <td>1</td>
            <td>0</td>
            <td>0</td>
            <td>Female</td>
            <td>2</td>
        </tr>
        <tr>
            <td>2</td>
            <td>0</td>
            <td>1</td>
            <td>0</td>
            <td>1</td>
            <td>1</td>
            <td>1</td>
            <td>0</td>
            <td>1</td>
            <td>1</td>
            <td>Female</td>
            <td>3</td>
        </tr>
        <tr>
            <td>3</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>1</td>
            <td>0</td>
            <td>0</td>
            <td>1</td>
            <td>0</td>
            <td>Female</td>
            <td>4</td>
        </tr>
        <tr>
            <td>4</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>0</td>
            <td>1</td>
            <td>1</td>
            <td>1</td>
            <td>0</td>
            <td>1</td>
            <td>Female</td>
            <td>5</td>
        </tr>
    </tbody>
</table>
</div></section>
<section id="loading-data">
<h2>Loading Data<a class="headerlink" href="#loading-data" title="Permalink to this heading">¶</a></h2>
<p>When loading data, specify <code class="docutils literal notranslate"><span class="pre">proportional=True</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_unpaired</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">),</span> <span class="n">proportional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_unpaired</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DABEST v2023.02.14
==================

Good evening!
The current time is Tue Feb 20 22:49:54 2023.

Effect size(s) with 95% confidence intervals will be computed for:
1. Test 1 minus Control 1

5000 resamples will be used to generate the effect size bootstraps.
</pre></div>
</div>
</section>
<section id="effect-sizes">
<h2>Effect sizes<a class="headerlink" href="#effect-sizes" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt>For proportion plot, dabest features two effect sizes:</dt><dd><ul class="simple">
<li><p>the mean difference (<code class="docutils literal notranslate"><span class="pre">mean_diff</span></code>)</p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Cohen%27s_h">Cohen’s h</a> (<code class="docutils literal notranslate"><span class="pre">cohens_h</span></code>)</p></li>
</ul>
</dd>
</dl>
<p>Each of these are attributes of the <code class="docutils literal notranslate"><span class="pre">Dabest</span></code> object.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span>
</pre></div>
</div>
<pre class="literal-block">DABEST v2023.02.14
==================

Good evening!
The current time is Tue Feb 21 22:55:04 2023.

The unpaired mean difference between Control 1 and Test 1 is 0.341 [95%CI 0.274, 0.403].
The p-value of the two-sided permutation t-test is 0.0, calculated for legacy purposes only.

5000 bootstrap samples were taken; the confidence interval is bias-corrected and accelerated.
Any p-value reported is the probability of observing theeffect size (or greater),
assuming the null hypothesis ofzero difference is true.
For each p-value, 5000 reshuffles of the control and test labels were performed.

To get the results of all valid statistical tests, use <cite>.mean_diff.statistical_tests</cite>

To get the results of all valid statistical tests, use <cite>.mean_diff.statistical_tests</cite></pre>
<p>Let’s compute the Cohen’s h for our comparison.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">cohens_h</span>
</pre></div>
</div>
<pre class="literal-block">DABEST v2023.02.14
==================

Good evening!
The current time is Tue Feb 21 22:57:31 2023.

The unpaired Cohen's h between Control 1 and Test 1 is 0.758 [95%CI 0.603, 0.906].
The p-value of the two-sided permutation t-test is 0.0, calculated for legacy purposes only.

5000 bootstrap samples were taken; the confidence interval is bias-corrected and accelerated.
Any p-value reported is the probability of observing theeffect size (or greater),
assuming the null hypothesis ofzero difference is true.
For each p-value, 5000 reshuffles of the control and test labels were performed.

To get the results of all valid statistical tests, use <cite>.cohens_h.statistical_tests</cite>

To get the results of all valid statistical tests, use <cite>.cohens_h.statistical_tests</cite></pre>
</section>
<section id="producing-proportional-plots">
<h2>Producing Proportional Plots<a class="headerlink" href="#producing-proportional-plots" title="Permalink to this heading">¶</a></h2>
<p>To produce a <strong>Gardner-Altman estimation plot</strong>, simply use the
<code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method.</p>
<p>Every effect size instance has access to the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method. This
means you can quickly create plots for different effect sizes easily.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
<img alt="_images/prop_1.png" src="_images/prop_1.png" />
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">cohens_h</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
<img alt="_images/prop_2.png" src="_images/prop_2.png" />
<p>The white part in the bar represents the proportion of observations in the dataset that do not belong to the category, which is
equivalent to the proportion of 0 in the data. The colored part, on the other hand, represents the proportion of observations
that belong to the category, which is equivalent to the proportion of 1 in the data. By default, the value of ‘group_summaries’
is set to “mean_sd”. This means that the error bars in the plot display the mean and ± standard deviation of each group as
gapped lines. The gap represents the mean, while the vertical ends represent the standard deviation. Alternatively, if the
value of ‘group_summaries’ is set to “median_quartiles”, the median and 25th and 75th percentiles of each group are plotted instead.
By default, the bootstrap effect sizes is plotted on the right axis.</p>
<p>Instead of a Gardner-Altman plot, you can produce a <strong>Cumming estimation
plot</strong> by setting <code class="docutils literal notranslate"><span class="pre">float_contrast=False</span></code> in the <code class="docutils literal notranslate"><span class="pre">plot()</span></code> method.
This will plot the bootstrap effect sizes below the raw data.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">float_contrast</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
<img alt="_images/prop_3.png" src="_images/prop_3.png" />
<p>You can also modify the width of bars as you expect by setting <code class="docutils literal notranslate"><span class="pre">bar_width</span></code> in the <code class="docutils literal notranslate"><span class="pre">plot()</span></code> method. The color of error bar can be modified by setting ‘err_color’.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bar_width</span><span class="o">=</span><span class="mf">0.3</span><span class="p">);</span>
</pre></div>
</div>
<img alt="_images/prop_4.png" src="_images/prop_4.png" />
</section>
<section id="producing-paired-proportion-plots">
<h2>Producing Paired Proportion Plots<a class="headerlink" href="#producing-paired-proportion-plots" title="Permalink to this heading">¶</a></h2>
<p>For paired version of proportional plot, we adapt the style of Sankey Diagram. The width of each bar in each xticks represent
the proportion of corresponding label in the group, and the strip denotes the paired relationship for each observation.</p>
<p>Similar to the unpaired version, the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method is used to produce a <strong>Gardner-Altman estimation plot</strong>, the only difference is that
the <code class="docutils literal notranslate"><span class="pre">is_paired</span></code> parameter is set to either <code class="docutils literal notranslate"><span class="pre">baseline</span></code> or  <code class="docutils literal notranslate"><span class="pre">sequential</span></code> when loading data.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_baseline</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">),</span>
<span class="linenos">2</span>                                <span class="n">proportional</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">paired</span><span class="o">=</span><span class="s2">&quot;baseline&quot;</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span>
<span class="linenos">3</span>
<span class="linenos">4</span>  <span class="n">two_groups_baseline</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
<img alt="_images/sankey_1.png" src="_images/sankey_1.png" />
<p>The paired proportional plot also supports the <code class="docutils literal notranslate"><span class="pre">float_contrast</span></code> parameter, which can be set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to produce a <strong>Cumming estimation plot</strong>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>  <span class="n">two_groups_baseline</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">float_contrast</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
<img alt="_images/sankey_2.png" src="_images/sankey_2.png" />
<p>The upper part (grey part) of the bar represents the proportion of observations in the dataset that do not belong to the category, which is
equivalent to the proportion of 0 in the data. The lower part, on the other hand, represents the proportion of observations that belong to the category, which is
or <strong>success</strong>, which is equivalent to the proportion of 1 in the data.</p>
<p>Repeated measures is also supported in paired proportional plot, by changing the <code class="docutils literal notranslate"><span class="pre">is_paired</span></code> parameter, two types of plot can be produced.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">multi_group_baseline</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(((</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">,</span><span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 3&quot;</span><span class="p">),</span>
<span class="linenos">2</span>                              <span class="p">(</span><span class="s2">&quot;Test 4&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 5&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 6&quot;</span><span class="p">))),</span>
<span class="linenos">3</span>                  <span class="n">proportional</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">paired</span><span class="o">=</span><span class="s2">&quot;baseline&quot;</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">multi_group_baseline</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
<img alt="_images/sankey_3.png" src="_images/sankey_3.png" />
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">multi_group_sequential</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(((</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">,</span><span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 3&quot;</span><span class="p">),</span>
<span class="linenos">2</span>                              <span class="p">(</span><span class="s2">&quot;Test 4&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 5&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 6&quot;</span><span class="p">))),</span>
<span class="linenos">3</span>                  <span class="n">proportional</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">paired</span><span class="o">=</span><span class="s2">&quot;baseline&quot;</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">multi_group_sequential</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
<img alt="_images/sankey_4.png" src="_images/sankey_4.png" />
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">multi_group_baseline_specify</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">((</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">,</span><span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 3&quot;</span><span class="p">,</span>
<span class="linenos">2</span>                              <span class="s2">&quot;Test 4&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 5&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 6&quot;</span><span class="p">)),</span>
<span class="linenos">3</span>                  <span class="n">proportional</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">paired</span><span class="o">=</span><span class="s2">&quot;baseline&quot;</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">multi_group_baseline_specify</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
<img alt="_images/sankey_5.png" src="_images/sankey_5.png" />
<p>Several exclusive parameters can be supplied to the <code class="docutils literal notranslate"><span class="pre">plot()</span></code> method to customize the paired proportional plot.
By updating the sankey_kwargs parameter, you can customize the Sankey plot. The following parameters are supported:</p>
<ul class="simple">
<li><p><strong>width</strong>: The width of each Sankey bar. Default is 0.5.</p></li>
<li><p><strong>align</strong>: The alignment of each Sankey bar. Default is “center”.</p></li>
<li><p><strong>alpha</strong>: The transparency of each Sankey bar. Default is 0.4.</p></li>
<li><p><strong>bar_width</strong>: The width of each bar on the side in the plot. Default is 0.1.</p></li>
</ul>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">two_groups_baseline</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sankey_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">});</span>
</pre></div>
</div>
<img alt="_images/sankey_6.png" src="_images/sankey_6.png" />
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">dabest</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=ACCLAB&repo=DABEST-python&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<p>
<a href="https://pypi.python.org/pypi/dabest/"><img src="https://badge.fury.io/py/dabest.svg" alt="PyPI version" height="18"></a>
</p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="robust-beautiful.html">Robust and Beautiful Statistical Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="bootstraps.html">Bootstrap Confidence Intervals</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial: Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="repeatedmeasures.html">Tutorial: Repeated Measures</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial: Proportion Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="minimetadelta.html">Tutorial: Mini-Meta Delta</a></li>
<li class="toctree-l1"><a class="reference internal" href="deltadelta.html">Tutorial: Delta - Delta</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotaesthetics.html">Tutorial: Controlling Plot Aesthetics</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citing DABEST</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="repeatedmeasures.html" title="previous chapter">Tutorial: Repeated Measures</a></li>
      <li>Next: <a href="minimetadelta.html" title="next chapter">Tutorial: Mini-Meta Delta</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016-2023, Joses W. Ho.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/proportion-plot.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/ACCLAB/DABEST-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>