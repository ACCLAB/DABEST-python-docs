
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tutorial &#8212; dabest 0.1.5 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/alabaster-custom.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/alabaster-custom.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using DABEST in R" href="dabest-r.html" />
    <link rel="prev" title="Getting Started" href="getting-started.html" />

   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120627927-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120627927-1');
</script>


  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>Tutorial<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="load-libraries">
<h2>Load Libraries<a class="headerlink" href="#load-libraries" title="Permalink to this headline">¶</a></h2>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">dabest</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;We&#39;re using DABEST v{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dabest</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">We</span><span class="s1">&#39;re using DABEST v0.1.6</span>
</pre></div>
</div>
</div>
<div class="section" id="create-dummy-dataset">
<h2>Create dummy dataset<a class="headerlink" href="#create-dummy-dataset" title="Permalink to this headline">¶</a></h2>
<p>Here, we create a dummy dataset to illustrate how <code class="docutils literal notranslate"><span class="pre">dabest</span></code> functions.
In this dataset, each column corresponds to a group of observations, and
each row is simply an index number referring to an observation.</p>
<p>This is known as a ‘wide’ dataset. See this
<a class="reference external" href="https://sejdemyr.github.io/r-tutorials/basics/wide-and-long/">writeup</a>
for more details.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">norm</span> <span class="c1"># Used in generation of populations.</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">9999</span><span class="p">)</span> <span class="c1"># Fix the seed so the results are replicable.</span>
<span class="n">pop_size</span> <span class="o">=</span> <span class="mi">10000</span> <span class="c1"># Size of each population.</span>
<span class="n">Ns</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1"># The number of samples taken from each population</span>

<span class="c1"># Create populations</span>
<span class="n">pop1</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">pop_size</span><span class="p">)</span>
<span class="n">pop2</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">pop_size</span><span class="p">)</span>
<span class="n">pop3</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">pop_size</span><span class="p">)</span>
<span class="n">pop4</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">pop_size</span><span class="p">)</span>
<span class="n">pop5</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">pop_size</span><span class="p">)</span>
<span class="n">pop6</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.25</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">pop_size</span><span class="p">)</span>


<span class="c1"># Sample from the populations</span>
<span class="n">sampling_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">g1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">pop1</span><span class="p">,</span> <span class="o">**</span><span class="n">sampling_kwargs</span><span class="p">)</span>
<span class="n">g2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">pop2</span><span class="p">,</span> <span class="o">**</span><span class="n">sampling_kwargs</span><span class="p">)</span>
<span class="n">g3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">pop3</span><span class="p">,</span> <span class="o">**</span><span class="n">sampling_kwargs</span><span class="p">)</span>
<span class="n">g4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">pop4</span><span class="p">,</span> <span class="o">**</span><span class="n">sampling_kwargs</span><span class="p">)</span>
<span class="n">g5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">pop5</span><span class="p">,</span> <span class="o">**</span><span class="n">sampling_kwargs</span><span class="p">)</span>
<span class="n">g6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">pop6</span><span class="p">,</span> <span class="o">**</span><span class="n">sampling_kwargs</span><span class="p">)</span>

<span class="c1"># Add a `gender` column for coloring the data.</span>
<span class="n">females</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;Female&#39;</span><span class="p">,</span> <span class="n">Ns</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">males</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="n">Ns</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">gender</span> <span class="o">=</span> <span class="n">females</span> <span class="o">+</span> <span class="n">males</span>

<span class="c1"># Add an `id` column for paired data plotting.</span>
<span class="c1"># More info below!</span>
<span class="n">id_col</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Ns</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="c1"># Combine samples and gender into a DataFrame.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Control&#39;</span> <span class="p">:</span> <span class="n">g1</span><span class="p">,</span>
                   <span class="s1">&#39;Group 1&#39;</span> <span class="p">:</span> <span class="n">g2</span><span class="p">,</span>
                   <span class="s1">&#39;Group 2&#39;</span> <span class="p">:</span> <span class="n">g3</span><span class="p">,</span>
                   <span class="s1">&#39;Group 3&#39;</span> <span class="p">:</span> <span class="n">g4</span><span class="p">,</span>
                   <span class="s1">&#39;Group 4&#39;</span> <span class="p">:</span> <span class="n">g5</span><span class="p">,</span>
                   <span class="s1">&#39;Group 5&#39;</span> <span class="p">:</span> <span class="n">g6</span><span class="p">,</span>
                   <span class="s1">&#39;Gender&#39;</span>  <span class="p">:</span> <span class="n">gender</span><span class="p">,</span>
                   <span class="s1">&#39;ID&#39;</span>      <span class="p">:</span> <span class="n">id_col</span>
                  <span class="p">})</span>
</pre></div>
</td></tr></table></div>
<p>Note that we have 6 groups of observations, with an additional
non-numerical column indicating gender, and a column indicating the
identity of each observation.</p>
<div class="code ipython3 highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Control</th>
      <th>Group 1</th>
      <th>Group 2</th>
      <th>Group 3</th>
      <th>Group 4</th>
      <th>Group 5</th>
      <th>Gender</th>
      <th>ID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.742313</td>
      <td>3.737751</td>
      <td>2.703766</td>
      <td>3.933794</td>
      <td>2.138557</td>
      <td>2.997997</td>
      <td>Female</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.681590</td>
      <td>2.954575</td>
      <td>3.158262</td>
      <td>2.983600</td>
      <td>3.377651</td>
      <td>3.699350</td>
      <td>Female</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.180724</td>
      <td>2.531722</td>
      <td>2.474184</td>
      <td>2.286611</td>
      <td>3.450214</td>
      <td>2.507875</td>
      <td>Female</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.961873</td>
      <td>2.629912</td>
      <td>2.431826</td>
      <td>1.985591</td>
      <td>3.565215</td>
      <td>3.251389</td>
      <td>Female</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.867556</td>
      <td>3.335618</td>
      <td>2.454033</td>
      <td>3.887869</td>
      <td>2.841621</td>
      <td>3.513511</td>
      <td>Female</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div></div>
<div class="section" id="producing-plots">
<h2>Producing Plots<a class="headerlink" href="#producing-plots" title="Permalink to this headline">¶</a></h2>
<div class="section" id="independant-two-group-estimation-plot">
<h3>Independant two-group estimation plot<a class="headerlink" href="#independant-two-group-estimation-plot" title="Permalink to this headline">¶</a></h3>
<p>The simplest estimation plot can be generated with <code class="docutils literal notranslate"><span class="pre">dabest.plot()</span></code>.
Supply the DataFrame; supply the two groups you want to compare in the
<code class="docutils literal notranslate"><span class="pre">idx</span></code> argument as a tuple or list.</p>
<div class="code ipython3 highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig1</span><span class="p">,</span> <span class="n">results1</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">))</span>
</pre></div>
</div>
<img alt="_images/tutorial_8_0.png" src="_images/tutorial_8_0.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">dabest.plot()</span></code> function will return 2 objects: a matplotlib
<code class="docutils literal notranslate"><span class="pre">Figure</span></code> and a pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p>In the Jupyter Notebook, with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code>, the figure should
automatically appear.</p>
<p><code class="docutils literal notranslate"><span class="pre">dabest.plot()</span></code> will automatically drop any NaNs in the data. Note how
the Ns (appended to the group names in the xtick labels) indicate the
number of datapoints being plotted, and used to calculate the contrasts.</p>
<p>The pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> returned by <code class="docutils literal notranslate"><span class="pre">dabest.plot()</span></code> contains the
statistics computed in the course of generating the plot, with
confidence intervals (95% by default) and relevant p-values.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># prints out the DataFrame returned by `dabest.plot()`.</span>
<span class="n">results1</span>
</pre></div>
</td></tr></table></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>reference_group</th>
      <th>experimental_group</th>
      <th>stat_summary</th>
      <th>bca_ci_low</th>
      <th>bca_ci_high</th>
      <th>ci</th>
      <th>is_difference</th>
      <th>is_paired</th>
      <th>pvalue_2samp_ind_ttest</th>
      <th>pvalue_mann_whitney</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control</td>
      <td>Group 1</td>
      <td>0.564092</td>
      <td>0.251295</td>
      <td>0.900291</td>
      <td>95.0</td>
      <td>True</td>
      <td>False</td>
      <td>0.001811</td>
      <td>0.004703</td>
    </tr>
  </tbody>
</table>
</div><p>You can color the dots with any column in the DataFrame, using the
<code class="docutils literal notranslate"><span class="pre">color_col</span></code> keyword.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f2</span><span class="p">,</span> <span class="n">results2</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">),</span>
                           <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_12_0.png" src="_images/tutorial_12_0.png" />
</div>
<div class="section" id="paired-two-group-estimation-plot">
<h3>Paired two-group estimation plot<a class="headerlink" href="#paired-two-group-estimation-plot" title="Permalink to this headline">¶</a></h3>
<p>DABEST can also produce estimation plots for paired observations
(repeated measures). This is done by setting the <code class="docutils literal notranslate"><span class="pre">paired</span></code> option to
<code class="docutils literal notranslate"><span class="pre">True</span></code>. You will also have to tell <code class="docutils literal notranslate"><span class="pre">dabest.plot()</span></code> which column
contains the identity of the each datum with the <code class="docutils literal notranslate"><span class="pre">id_col</span></code> keyword.</p>
<p>The estimation plot uses lines to indicate the pairs of observations.
This is known as a <a class="reference external" href="https://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0003nk">slopegraph</a>. The combined visual effect of the slopes
of these lines serves to give the viewer an intuitive sense of the effect
size between the two groups of repeated observations.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f3</span><span class="p">,</span> <span class="n">results3</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">),</span>
                           <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                           <span class="n">paired</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_15_0.png" src="_images/tutorial_15_0.png" />
<p>Note that the statistical output records that the difference is a paired
one, in the <code class="docutils literal notranslate"><span class="pre">is_paired</span></code> column.</p>
<div class="code ipython3 highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results3</span>
</pre></div>
</div>
<div>
<style scoped>
  .dataframe {
    display: block;
    overflow-x: scroll;
    border-collapse: collapse;
  }

  .dataframe thead th {
    text-align: centre;
    background-color: #586e75;
    color: #eee8d5;
  }

  .dataframe td {
    padding:10px 25px 10px 1px;
    border-left: 1px solid #000;
    border-right: 1px solid #000;
  }

  .dataframe th td {
    border-bottom: 1px solid #ddd;
  }

  .dataframe tbody tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  .dataframe tbody tr td {
    vertical-align: centre;
    text-align: right;
  }

  .dataframe tbody tr:hover {
    background-color: #eee8d5;
  }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>reference_group</th>
      <th>experimental_group</th>
      <th>stat_summary</th>
      <th>bca_ci_low</th>
      <th>bca_ci_high</th>
      <th>ci</th>
      <th>is_difference</th>
      <th>is_paired</th>
      <th>pvalue_2samp_paired_ttest</th>
      <th>pvalue_wilcoxon</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control</td>
      <td>Group 1</td>
      <td>0.564092</td>
      <td>0.262493</td>
      <td>0.842903</td>
      <td>95.0</td>
      <td>True</td>
      <td>True</td>
      <td>0.001285</td>
      <td>0.003185</td>
    </tr>
  </tbody>
</table>
</div><p>If you want to plot the raw swarmplot instead of the paired lines, use
the <code class="docutils literal notranslate"><span class="pre">show_pairs</span></code> flag to set this. The contrasts computed will still
be paired, as indicated by the DataFrame produced.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f4</span><span class="p">,</span> <span class="n">results4</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">),</span>
                           <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                           <span class="n">paired</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">,</span>
                           <span class="n">show_pairs</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_19_0.png" src="_images/tutorial_19_0.png" />
</div>
<div class="section" id="multi-two-group-estimation-plot">
<h3>Multi two-group estimation plot<a class="headerlink" href="#multi-two-group-estimation-plot" title="Permalink to this headline">¶</a></h3>
<p>In a multi-group design, you can horizontally tile two or more two-group
floating-contrasts. This is designed to meet data visualization and
presentation paradigms that are predominant in academic biomedical
research, where several two-group experiments are presented together.</p>
<p>This is done mainly through the <code class="docutils literal notranslate"><span class="pre">idx</span></code> option. You can nest two or more
tuples or lists within a single tuple/list to create a seperate subplot
for that contrast.</p>
<p>The effect sizes and confidence intervals for each two-group plot will
be computed.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f5</span><span class="p">,</span> <span class="n">results5</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">((</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">),</span>
                                    <span class="p">(</span><span class="s1">&#39;Group 2&#39;</span><span class="p">,</span><span class="s1">&#39;Group 3&#39;</span><span class="p">),</span>
                                    <span class="p">(</span><span class="s1">&#39;Group 4&#39;</span><span class="p">,</span><span class="s1">&#39;Group 5&#39;</span><span class="p">))</span>
                          <span class="p">)</span>

<span class="n">results5</span>
</pre></div>
</td></tr></table></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>reference_group</th>
      <th>experimental_group</th>
      <th>stat_summary</th>
      <th>bca_ci_low</th>
      <th>bca_ci_high</th>
      <th>ci</th>
      <th>is_difference</th>
      <th>is_paired</th>
      <th>pvalue_2samp_ind_ttest</th>
      <th>pvalue_mann_whitney</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control</td>
      <td>Group 1</td>
      <td>0.564092</td>
      <td>0.256753</td>
      <td>0.892652</td>
      <td>95.0</td>
      <td>True</td>
      <td>False</td>
      <td>0.001811</td>
      <td>0.004703</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Group 2</td>
      <td>Group 3</td>
      <td>0.253319</td>
      <td>-0.112335</td>
      <td>0.616018</td>
      <td>95.0</td>
      <td>True</td>
      <td>False</td>
      <td>0.190823</td>
      <td>0.155570</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Group 4</td>
      <td>Group 5</td>
      <td>-0.278511</td>
      <td>-0.551978</td>
      <td>0.019770</td>
      <td>95.0</td>
      <td>True</td>
      <td>False</td>
      <td>0.070806</td>
      <td>0.041124</td>
    </tr>
  </tbody>
</table>
</div><img alt="_images/tutorial_21_1.png" src="_images/tutorial_21_1.png" />
<p>Each two-group experiment has its own floating contrast axes. Another
way to present this is to place all the effect sizes (and their
bootstrap distributions) on a common axes, beneath the raw data. This is
controlled with the <code class="docutils literal notranslate"><span class="pre">float_contrast</span></code> option.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f6</span><span class="p">,</span> <span class="n">results6</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">((</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">),</span>
                                    <span class="p">(</span><span class="s1">&#39;Group 2&#39;</span><span class="p">,</span><span class="s1">&#39;Group 3&#39;</span><span class="p">),</span>
                                    <span class="p">(</span><span class="s1">&#39;Group 4&#39;</span><span class="p">,</span><span class="s1">&#39;Group 5&#39;</span><span class="p">)),</span>
                           <span class="n">float_contrast</span><span class="o">=</span><span class="bp">False</span>
                          <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_23_0.png" src="_images/tutorial_23_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f6_paired</span><span class="p">,</span> <span class="n">results6_paired</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">((</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">),</span>
                                                  <span class="p">(</span><span class="s1">&#39;Group 2&#39;</span><span class="p">,</span><span class="s1">&#39;Group 3&#39;</span><span class="p">),</span>
                                                  <span class="p">(</span><span class="s1">&#39;Group 4&#39;</span><span class="p">,</span><span class="s1">&#39;Group 5&#39;</span><span class="p">)),</span>
                                         <span class="n">float_contrast</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                                         <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                                         <span class="n">paired</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s1">&#39;ID&#39;</span>
                                        <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_24_0.png" src="_images/tutorial_24_0.png" />
</div>
<div class="section" id="shared-control-estimation-plot">
<h3>Shared-control estimation plot<a class="headerlink" href="#shared-control-estimation-plot" title="Permalink to this headline">¶</a></h3>
<p>A common experimental setup seen in contemporary biomedical research is
a shared-control design (also known as a ‘hub-and-spoke’ design), where
two or more experimental groups are compared to a common control group.</p>
<p>A hub-and-spoke plot implements estimation statistics and aesthetics on
such an experimental design.</p>
<p>If more than 2 columns/groups are directly passed to <code class="docutils literal notranslate"><span class="pre">idx</span></code>, then
<code class="docutils literal notranslate"><span class="pre">dabest.plot()</span></code> will produce a shared-control estimation plot, where
the first group in the tuple/list is considered the control group. The
mean difference and confidence intervals of each subsequent group will
be computed against the first control group.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f7</span><span class="p">,</span> <span class="n">results7</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span> <span class="s1">&#39;Group 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Group 4&#39;</span><span class="p">),</span>
                   <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">)</span>

<span class="n">results7</span>
</pre></div>
</td></tr></table></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>reference_group</th>
      <th>experimental_group</th>
      <th>stat_summary</th>
      <th>bca_ci_low</th>
      <th>bca_ci_high</th>
      <th>ci</th>
      <th>is_difference</th>
      <th>is_paired</th>
      <th>pvalue_2samp_ind_ttest</th>
      <th>pvalue_mann_whitney</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control</td>
      <td>Group 2</td>
      <td>-0.049862</td>
      <td>-0.318671</td>
      <td>0.231657</td>
      <td>95.0</td>
      <td>True</td>
      <td>False</td>
      <td>0.734693</td>
      <td>0.714980</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Control</td>
      <td>Group 4</td>
      <td>0.698509</td>
      <td>0.409364</td>
      <td>0.969665</td>
      <td>95.0</td>
      <td>True</td>
      <td>False</td>
      <td>0.000028</td>
      <td>0.000093</td>
    </tr>
  </tbody>
</table>
</div><img alt="_images/tutorial_26_1.png" src="_images/tutorial_26_1.png" />
<p>In a shared control plot, the effect sizes and bootstrap 95CIs are shown
on the lower panel for all comparisons. By default, a summary line is
plotted for each group. The mean (indicated by the gap) and the standard
deviation is plotted as a gapped line.</p>
<p>One can display the median with the 25th and 75th percentiles (a
Tufte-style boxplot) using the <code class="docutils literal notranslate"><span class="pre">group_summaries</span></code> keyword argument in
the function.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f8</span><span class="p">,</span> <span class="n">results8</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span> <span class="s1">&#39;Group 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Group 4&#39;</span><span class="p">),</span>
                           <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                           <span class="n">group_summaries</span><span class="o">=</span><span class="s1">&#39;median_quartiles&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_28_0.png" src="_images/tutorial_28_0.png" />
</div>
</div>
<div class="section" id="controlling-aesthetics">
<h2>Controlling Aesthetics<a class="headerlink" href="#controlling-aesthetics" title="Permalink to this headline">¶</a></h2>
<p>Below we run through ways of customizing various aesthetic features.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Changing the contrast y-limits.</span>

<span class="n">f9</span><span class="p">,</span> <span class="n">results9</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                           <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                           <span class="n">contrast_ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_30_0.png" src="_images/tutorial_30_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Changing the swarmplot y-limits.</span>

<span class="n">f10</span><span class="p">,</span> <span class="n">results10</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span> <span class="s1">&#39;Group 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                             <span class="n">swarm_ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_31_0.png" src="_images/tutorial_31_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Changing the figure size.</span>
<span class="c1"># The default figure size has been tweaked for</span>
<span class="c1"># optimal visual harmony and proportion in most use cases.</span>
<span class="c1"># You can, however, tweak the figure size.</span>

<span class="n">f11</span><span class="p">,</span> <span class="n">results11</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                             <span class="n">fig_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1"># xy dimensions in inches.</span>
                            <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_32_0.png" src="_images/tutorial_32_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Changing the size of the dots in the swarmplot.</span>

<span class="n">f12</span><span class="p">,</span> <span class="n">results12</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span> <span class="n">swarm_dotsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span>
                            <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_33_0.png" src="_images/tutorial_33_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Custom y-axis labels.</span>
<span class="n">f13</span><span class="p">,</span> <span class="n">results13</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                             <span class="c1"># Insert line breaks manually with `\n`.</span>
                             <span class="n">swarm_label</span><span class="o">=</span><span class="s1">&#39;My Custom</span><span class="se">\n</span><span class="s1">Swarm Label&#39;</span><span class="p">,</span>
                             <span class="n">contrast_label</span><span class="o">=</span><span class="s1">&#39;This is the</span><span class="se">\n</span><span class="s1">Estimation Plot&#39;</span>
                            <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_34_0.png" src="_images/tutorial_34_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Any of matplotlib&#39;s named colors will work.</span>
<span class="c1"># See https://matplotlib.org/examples/color/named_colors.html</span>

<span class="n">f14</span><span class="p">,</span> <span class="n">results14</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                             <span class="c1"># The categories in `color_col` will be</span>
                             <span class="c1"># assigned alphabetically according</span>
                             <span class="c1"># to the order of colors below.</span>
                             <span class="n">custom_palette</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;darkorange&#39;</span><span class="p">,</span> <span class="s1">&#39;slategrey&#39;</span><span class="p">]</span>
                            <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_35_0.png" src="_images/tutorial_35_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># You can also pass colors in the RGB tuple form (r, g, b),</span>
<span class="c1"># or in hexadecimal form (if you&#39;re more familiar with HTML color codes).</span>

<span class="n">f15</span><span class="p">,</span> <span class="n">results15</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                             <span class="c1"># Below I pass darkorange in RGB,</span>
                             <span class="c1"># and slategrey in hexadecimal.</span>
                             <span class="n">custom_palette</span><span class="o">=</span><span class="p">[(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.549</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="s1">&#39;#708090&#39;</span><span class="p">]</span>
                            <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_36_0.png" src="_images/tutorial_36_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Passing a dictionary as a custom palette.</span>
<span class="n">f16</span><span class="p">,</span> <span class="n">results16</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                             <span class="n">custom_palette</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Male&#39;</span>   <span class="p">:</span> <span class="s1">&#39;slategrey&#39;</span><span class="p">,</span>
                                             <span class="s1">&#39;Female&#39;</span> <span class="p">:</span> <span class="s1">&#39;darkorange&#39;</span><span class="p">}</span>
                            <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_37_0.png" src="_images/tutorial_37_0.png" />
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Tweaking the tick length and padding between tick and label.</span>

<span class="n">f17</span><span class="p">,</span> <span class="n">results17</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">,</span><span class="s1">&#39;Group 2&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span><span class="p">,</span>
                             <span class="n">tick_length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">tick_pad</span><span class="o">=</span><span class="mi">5</span>
                            <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<img alt="_images/tutorial_38_0.png" src="_images/tutorial_38_0.png" />
</div>
<div class="section" id="appendix-on-working-with-melted-dataframes">
<h2>Appendix: On working with ‘melted’ DataFrames.<a class="headerlink" href="#appendix-on-working-with-melted-dataframes" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">dabest.plot</span></code> can also work with ‘melted’ or ‘longform’ data. This
term is so used because each row will now correspond to a single
datapoint, with one column carrying the value (<code class="docutils literal notranslate"><span class="pre">value</span></code>) and other
columns carrying ‘metadata’ describing that datapoint (in this case,
<code class="docutils literal notranslate"><span class="pre">group</span></code> and <code class="docutils literal notranslate"><span class="pre">Gender</span></code>).</p>
<p>For more details on wide vs long or ‘melted’ data, see
<a class="reference external" href="https://en.wikipedia.org/wiki/Wide_and_narrow_data">https://en.wikipedia.org/wiki/Wide_and_narrow_data</a></p>
<p>To read more about melting a dataframe,see
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.melt.html">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.melt.html</a></p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;group&#39;</span>
<span class="n">y</span><span class="o">=</span><span class="s1">&#39;my_metric&#39;</span>
<span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span>
<span class="n">value_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># select all but the &#39;Gender&#39; and &#39;ID&#39; columns.</span>

<span class="n">df_melt</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">,</span><span class="n">color_col</span><span class="p">],</span>
                <span class="n">value_vars</span><span class="o">=</span><span class="n">value_cols</span><span class="p">,</span>
                <span class="n">value_name</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
                <span class="n">var_name</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>

<span class="n">df_melt</span><span class="o">.</span><span class="n">head</span><span class="p">()</span> <span class="c1"># Gives the first five rows of `df_melt`.</span>
</pre></div>
</td></tr></table></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Gender</th>
      <th>group</th>
      <th>my_metric</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Female</td>
      <td>Control</td>
      <td>2.742313</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Female</td>
      <td>Control</td>
      <td>2.681590</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Female</td>
      <td>Control</td>
      <td>3.180724</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Female</td>
      <td>Control</td>
      <td>1.961873</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Female</td>
      <td>Control</td>
      <td>2.867556</td>
    </tr>
  </tbody>
</table>
</div><p>If you are using a melted DataFrame, you will need to specify the <code class="docutils literal notranslate"><span class="pre">x</span></code>
(containing the categorical group names) and <code class="docutils literal notranslate"><span class="pre">y</span></code> (containing the
numerical values for plotting) columns.</p>
<div class="code ipython3 highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">f17</span><span class="p">,</span> <span class="n">results17</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_melt</span><span class="p">,</span>
                             <span class="n">x</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span>
                             <span class="n">y</span><span class="o">=</span><span class="s1">&#39;my_metric&#39;</span><span class="p">,</span>
                             <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Control&#39;</span><span class="p">,</span><span class="s1">&#39;Group 1&#39;</span><span class="p">),</span>
                             <span class="n">color_col</span><span class="o">=</span><span class="s1">&#39;Gender&#39;</span>
                            <span class="p">)</span>
<span class="n">results17</span>
</pre></div>
</td></tr></table></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>reference_group</th>
      <th>experimental_group</th>
      <th>stat_summary</th>
      <th>bca_ci_low</th>
      <th>bca_ci_high</th>
      <th>ci</th>
      <th>is_difference</th>
      <th>is_paired</th>
      <th>pvalue_2samp_ind_ttest</th>
      <th>pvalue_mann_whitney</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control</td>
      <td>Group 1</td>
      <td>0.564092</td>
      <td>0.244049</td>
      <td>0.881805</td>
      <td>95.0</td>
      <td>True</td>
      <td>False</td>
      <td>0.001811</td>
      <td>0.004703</td>
    </tr>
  </tbody>
</table>
</div><img alt="_images/tutorial_42_1.png" src="_images/tutorial_42_1.png" />
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">dabest</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=ACCLAB&repo=DABEST-python&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<p>
<a href="https://pypi.python.org/pypi/dabest/"><img src="https://badge.fury.io/py/dabest.svg" alt="PyPI version" height="18"></a>
</p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#load-libraries">Load Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-dummy-dataset">Create dummy dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#producing-plots">Producing Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#controlling-aesthetics">Controlling Aesthetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-on-working-with-melted-dataframes">Appendix: On working with ‘melted’ DataFrames.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dabest-r.html">Using DABEST in R</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="getting-started.html" title="previous chapter">Getting Started</a></li>
      <li>Next: <a href="dabest-r.html" title="next chapter">Using DABEST in R</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Joses W. Ho.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/tutorial.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/ACCLAB/DABEST-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>