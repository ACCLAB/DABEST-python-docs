
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tutorial &#8212; dabest 0.2.3 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/alabaster-custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release Notes" href="release-notes.html" />
    <link rel="prev" title="Getting Started" href="getting-started.html" />

   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120627927-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120627927-1');
</script>


  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<span id="id1"></span><h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<div class="section" id="load-libraries">
<h2>Load Libraries<a class="headerlink" href="#load-libraries" title="Permalink to this headline">¶</a></h2>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dabest</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;We&#39;re using DABEST v</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dabest</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">We</span><span class="s1">&#39;re using DABEST v0.2.1</span>
</pre></div>
</div>
</div>
<div class="section" id="create-dataset-for-demo">
<h2>Create dataset for demo<a class="headerlink" href="#create-dataset-for-demo" title="Permalink to this headline">¶</a></h2>
<p>Here, we create a dataset to illustrate how <code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> functions. In
this dataset, each column corresponds to a group of observations.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">norm</span> <span class="c1"># Used in generation of populations.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">9999</span><span class="p">)</span> <span class="c1"># Fix the seed so the results are replicable.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ns</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1"># The number of samples taken from each population</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create samples</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c3</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.25</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t3</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t4</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t5</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.25</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t6</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mf">3.25</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">Ns</span><span class="p">)</span>


<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add a `gender` column for coloring the data.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">females</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;Female&#39;</span><span class="p">,</span> <span class="n">Ns</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">males</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="n">Ns</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gender</span> <span class="o">=</span> <span class="n">females</span> <span class="o">+</span> <span class="n">males</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add an `id` column for paired data plotting.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">id_col</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Ns</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Combine samples and gender into a DataFrame.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Control 1&#39;</span> <span class="p">:</span> <span class="n">c1</span><span class="p">,</span>  <span class="s1">&#39;Test 1&#39;</span> <span class="p">:</span> <span class="n">t1</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="s1">&#39;Control 2&#39;</span>  <span class="p">:</span> <span class="n">c2</span><span class="p">,</span>  <span class="s1">&#39;Test 2&#39;</span> <span class="p">:</span> <span class="n">t2</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="s1">&#39;Control 3&#39;</span>  <span class="p">:</span> <span class="n">c3</span><span class="p">,</span>  <span class="s1">&#39;Test 3&#39;</span> <span class="p">:</span> <span class="n">t3</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="s1">&#39;Test 4&#39;</span>     <span class="p">:</span> <span class="n">t4</span><span class="p">,</span>  <span class="s1">&#39;Test 5&#39;</span> <span class="p">:</span> <span class="n">t5</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="s1">&#39;Test 6&#39;</span>     <span class="p">:</span> <span class="n">t6</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="s1">&#39;Gender&#39;</span>    <span class="p">:</span> <span class="n">gender</span><span class="p">,</span> <span class="s1">&#39;ID&#39;</span>  <span class="p">:</span> <span class="n">id_col</span>
<span class="gp">... </span>                 <span class="p">})</span>
</pre></div>
</div>
<p>Note that we have 9 samples (3 Control samples and 6 Test samples). Our
dataset also has a non-numerical column indicating gender, and another
column indicating the identity of each observation.</p>
<p>This is known as a ‘wide’ dataset. See this
<a class="reference external" href="https://sejdemyr.github.io/r-tutorials/basics/wide-and-long/">writeup</a>
for more details.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div>
<style scoped>
    /* .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe thead th {
      background-color: #fdf6e3;
      color: #657b83;
      text-align: left;
    }

    .dataframe th, td {
      padding: 5px;
    }

    .dataframe tbody tr th {
      vertical-align: top;
    } */

</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Control 1</th>
      <th>Test 1</th>
      <th>Control 2</th>
      <th>Test 2</th>
      <th>Control 3</th>
      <th>Test 3</th>
      <th>Test 4</th>
      <th>Test 5</th>
      <th>Test 6</th>
      <th>Gender</th>
      <th>ID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2.793984</td>
      <td>3.420875</td>
      <td>3.324661</td>
      <td>1.707467</td>
      <td>3.816940</td>
      <td>1.796581</td>
      <td>4.440050</td>
      <td>2.937284</td>
      <td>3.486127</td>
      <td>Female</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3.236759</td>
      <td>3.467972</td>
      <td>3.685186</td>
      <td>1.121846</td>
      <td>3.750358</td>
      <td>3.944566</td>
      <td>3.723494</td>
      <td>2.837062</td>
      <td>2.338094</td>
      <td>Female</td>
      <td>2</td>
    </tr>
    <tr>
      <td>3.019149</td>
      <td>4.377179</td>
      <td>5.616891</td>
      <td>3.301381</td>
      <td>2.945397</td>
      <td>2.832188</td>
      <td>3.214014</td>
      <td>3.111950</td>
      <td>3.270897</td>
      <td>Female</td>
      <td>3</td>
    </tr>
    <tr>
      <td>2.804638</td>
      <td>4.564780</td>
      <td>2.773152</td>
      <td>2.534018</td>
      <td>3.575179</td>
      <td>3.048267</td>
      <td>4.968278</td>
      <td>3.743378</td>
      <td>3.151188</td>
      <td>Female</td>
      <td>4</td>
    </tr>
    <tr>
      <td>2.858019</td>
      <td>3.220058</td>
      <td>2.550361</td>
      <td>2.796365</td>
      <td>3.692138</td>
      <td>3.276575</td>
      <td>2.662104</td>
      <td>2.977341</td>
      <td>2.328601</td>
      <td>Female</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div></div>
<div class="section" id="loading-data">
<h2>Loading Data<a class="headerlink" href="#loading-data" title="Permalink to this headline">¶</a></h2>
<p>Before we create estimation plots and obtain confidence intervals for
our effect sizes, we need to load the data and the relevant groups.</p>
<p>We simply supply the DataFrame to <code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest.load()</span></code>. We also must supply
the two groups you want to compare in the <code class="xref std std-keyword docutils literal notranslate"><span class="pre">idx</span></code> argument as a tuple or
list.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">),</span>
<span class="gp">... </span>                                  <span class="n">resamples</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</pre></div>
</div>
<p>Calling this <cite>Dabest</cite> object gives you a gentle greeting, as well as
the comparisons that can be computed.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:24 2019.

Effect size(s) with 95% confidence intervals will be computed for:
1. Test 1 minus Control 1

5000 resamples will be used to generate the effect size bootstraps.
</pre></div>
</div>
<div class="section" id="changing-statistical-parameters">
<h3>Changing statistical parameters<a class="headerlink" href="#changing-statistical-parameters" title="Permalink to this headline">¶</a></h3>
<p>If the dataset contains paired data (ie. repeated observations), specify
this with the <code class="xref std std-keyword docutils literal notranslate"><span class="pre">paired</span></code> keyword. You must also pass a column in the
dataset that indicates the identity of each observation, using the
<code class="xref std std-keyword docutils literal notranslate"><span class="pre">id_col</span></code> keyword.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_paired</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">),</span>
<span class="gp">... </span>                                <span class="n">paired</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_paired</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:25 2019.

Paired effect size(s) with 95% confidence intervals will be computed for:
1. Test 1 minus Control 1

5000 resamples will be used to generate the effect size bootstraps.
</pre></div>
</div>
<p>You can also change the width of the confidence interval that will be
produced.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired_ci90</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>                                       <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">),</span>
<span class="gp">... </span>                                       <span class="n">ci</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired_ci90</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:25 2019.

Effect size(s) with 90% confidence intervals will be computed for:
1. Test 1 minus Control 1

5000 resamples will be used to generate the effect size bootstraps.
</pre></div>
</div>
</div>
</div>
<div class="section" id="effect-sizes">
<h2>Effect sizes<a class="headerlink" href="#effect-sizes" title="Permalink to this headline">¶</a></h2>
<p><code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> now features a range of effect sizes:</p>
<ul class="simple">
<li>the mean difference (<code class="xref std std-keyword docutils literal notranslate"><span class="pre">mean_diff</span></code>)</li>
<li>the median difference (<code class="xref std std-keyword docutils literal notranslate"><span class="pre">median_diff</span></code>)</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Effect_size#Cohen's_d">Cohen’s *d*</a> (<code class="xref std std-keyword docutils literal notranslate"><span class="pre">cohens_d</span></code>)</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Effect_size#Hedges'_g">Hedges’ *g*</a> (<code class="xref std std-keyword docutils literal notranslate"><span class="pre">hedges_g</span></code>)</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Effect_size#Effect_size_for_ordinal_data">Cliff’s delta</a> (<code class="xref std std-keyword docutils literal notranslate"><span class="pre">cliffs_delta</span></code>)</li>
</ul>
<p>Each of these are attributes of the <cite>Dabest</cite> object.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span>
</pre></div>
</div>
<pre class="literal-block">
DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:25 2019.

The unpaired mean difference between Control 1 and Test 1 is 0.48 [95%CI 0.205, 0.774].
The two-sided p-value of the Mann-Whitney test is 0.000813.

5000 bootstrap samples were taken; the confidence interval is bias-corrected and accelerated.
The p-value(s) reported are the likelihood(s) of observing the effect size(s),
if the null hypothesis of zero difference is true.

To get the results of all valid statistical tests, use <cite>.mean_diff.statistical_tests</cite>
</pre>
<p>For each comparison, the type of effect size is reported (here, it’s the
“unpaired mean difference”).</p>
<p>The confidence interval is reported as: [<em>confidenceIntervalWidth</em>
<em>LowerBound</em>, <em>UpperBound</em>], and is generated through bootstrap resampling.
See <a class="reference internal" href="bootstraps.html#bootstrap-confidence-intervals"><span class="std std-ref">Bootstrap Confidence Intervals</span></a> for more details.</p>
<p>By default, DABEST will report the two-sided p-value of the most
conservative test that is appropriate for the effect size. This is the
statistical test that does not assume normality of the
underlying populations, and does not assume that both of them do not
share the same variance (ie. heteroscadacity).</p>
<p>You can access the results as a <code class="docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">DataFrame</span></code>.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">results</span>
</pre></div>
</div>
<div>
<style scoped>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>control</th>
      <th>test</th>
      <th>effect_size</th>
      <th>is_paired</th>
      <th>difference</th>
      <th>ci</th>
      <th>bca_low</th>
      <th>bca_high</th>
      <th>bca_interval_idx</th>
      <th>pct_low</th>
      <th>pct_high</th>
      <th>pct_interval_idx</th>
      <th>bootstraps</th>
      <th>resamples</th>
      <th>random_seed</th>
      <th>pvalue_welch</th>
      <th>statistic_welch</th>
      <th>pvalue_students_t</th>
      <th>statistic_students_t</th>
      <th>pvalue_mann_whitney</th>
      <th>statistic_mann_whitney</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control 1</td>
      <td>Test 1</td>
      <td>mean difference</td>
      <td>False</td>
      <td>0.48029</td>
      <td>95</td>
      <td>0.205161</td>
      <td>0.773647</td>
      <td>(145, 4893)</td>
      <td>0.197427</td>
      <td>0.758752</td>
      <td>(125, 4875)</td>
      <td>[-0.05989473868674011, -0.018608309424335, 0.0...</td>
      <td>5000</td>
      <td>12345</td>
      <td>0.002094</td>
      <td>-3.308806</td>
      <td>0.002057</td>
      <td>-3.308806</td>
      <td>0.000813</td>
      <td>83.0</td>
    </tr>
  </tbody>
</table>
</div><p>You can use <code class="docutils literal notranslate"><span class="pre">.mean_diff.statistical_tests</span></code> to
obtain the p-values and test statistics for all relavant statistical
tests.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">statistical_tests</span>
</pre></div>
</div>
<div>
<style scoped>
    /* .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    } */
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>control</th>
      <th>test</th>
      <th>effect_size</th>
      <th>is_paired</th>
      <th>difference</th>
      <th>ci</th>
      <th>bca_low</th>
      <th>bca_high</th>
      <th>pvalue_welch</th>
      <th>statistic_welch</th>
      <th>pvalue_students_t</th>
      <th>statistic_students_t</th>
      <th>pvalue_mann_whitney</th>
      <th>statistic_mann_whitney</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control 1</td>
      <td>Test 1</td>
      <td>mean difference</td>
      <td>False</td>
      <td>0.48029</td>
      <td>95</td>
      <td>0.205161</td>
      <td>0.773647</td>
      <td>0.002094</td>
      <td>-3.308806</td>
      <td>0.002057</td>
      <td>-3.308806</td>
      <td>0.000813</td>
      <td>83.0</td>
    </tr>
  </tbody>
</table>
</div><p>Let’s compute the Hedges’ g for our comparison.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">hedges_g</span>
</pre></div>
</div>
<pre class="literal-block">
DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:26 2019.

The unpaired Hedges' g between Control 1 and Test 1 is 1.03 [95%CI 0.317, 1.62].
The two-sided p-value of the Mann-Whitney test is 0.000813.

5000 bootstrap samples were taken; the confidence interval is bias-corrected and accelerated.
The p-value(s) reported are the likelihood(s) of observing the effect size(s),
if the null hypothesis of zero difference is true.

To get the results of all valid statistical tests, use <cite>.hedges_g.statistical_tests</cite>
</pre>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">hedges_g</span><span class="o">.</span><span class="n">results</span>
</pre></div>
</div>
<div>
<style scoped>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>control</th>
      <th>test</th>
      <th>effect_size</th>
      <th>is_paired</th>
      <th>difference</th>
      <th>ci</th>
      <th>bca_low</th>
      <th>bca_high</th>
      <th>bca_interval_idx</th>
      <th>pct_low</th>
      <th>...</th>
      <th>pct_interval_idx</th>
      <th>bootstraps</th>
      <th>resamples</th>
      <th>random_seed</th>
      <th>pvalue_welch</th>
      <th>statistic_welch</th>
      <th>pvalue_students_t</th>
      <th>statistic_students_t</th>
      <th>pvalue_mann_whitney</th>
      <th>statistic_mann_whitney</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Control 1</td>
      <td>Test 1</td>
      <td>Hedges' g</td>
      <td>False</td>
      <td>1.025525</td>
      <td>95</td>
      <td>0.316506</td>
      <td>1.616235</td>
      <td>(42, 4725)</td>
      <td>0.44486</td>
      <td>...</td>
      <td>(125, 4875)</td>
      <td>[-0.1491709040527835, -0.0504066101302326, 0.0...</td>
      <td>5000</td>
      <td>12345</td>
      <td>0.002094</td>
      <td>-3.308806</td>
      <td>0.002057</td>
      <td>-3.308806</td>
      <td>0.000813</td>
      <td>83.0</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 21 columns</p>
</div></div>
<div class="section" id="producing-estimation-plots">
<h2>Producing estimation plots<a class="headerlink" href="#producing-estimation-plots" title="Permalink to this headline">¶</a></h2>
<p>To produce a <strong>Gardner-Altman estimation plot</strong>, simply use the
<code class="xref std std-keyword docutils literal notranslate"><span class="pre">.plot()</span></code> method. You can read more about its genesis and design
inspiration here.</p>
<p>Every effect size instance has access to the <code class="xref std std-keyword docutils literal notranslate"><span class="pre">.plot()</span></code> method. This
means you can quickly create plots for different effect sizes easily.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_26_0.png" src="_images/tutorial_26_0.png" />
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">hedges_g</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_27_0.png" src="_images/tutorial_27_0.png" />
<p>Instead of a Gardner-Altman plot, you can produce a <strong>Cumming estimation
plot</strong> by setting <code class="xref std std-keyword docutils literal notranslate"><span class="pre">float_contrast=False</span></code> in the <code class="xref std std-keyword docutils literal notranslate"><span class="pre">plot()</span></code>
method. This will plot the bootstrap effect sizes below the raw data.</p>
<p>The mean (gap) and ± standard deviation of each group
(vertical ends) is plotted as a gapped line, an inspiration from Edward
Tufte’s dictum to maximise
<a class="reference external" href="https://infovis-wiki.net/wiki/Data-Ink_Ratio">data-ink ratio</a>.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">hedges_g</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">float_contrast</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_29_0.png" src="_images/tutorial_29_0.png" />
<p>For paired data, we use
<a class="reference external" href="https://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0003nk">slopegraphs</a>
(another innovation from Edward Tufte) to connect paired observations.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_paired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_31_0.png" src="_images/tutorial_31_0.png" />
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_paired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">float_contrast</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_32_0.png" src="_images/tutorial_32_0.png" />
<p>The <code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> package also implements a range of estimation plot
designs aimed at depicting common experimental designs.</p>
<p>The <strong>multi-two-group estimation plot</strong> tiles two or more Cumming plots
horizontally, and is created by passing a <em>nested tuple</em> to <cite>idx</cite> when
<code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest.load()</span></code> is first invoked.</p>
<p>Thus, the lower axes in the Cumming plot is effectively a <a class="reference external" href="https://en.wikipedia.org/wiki/Forest_plot">forest
plot</a>, used in
meta-analyses to aggregate and compare data from different experiments.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">((</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">,),</span>
<span class="gp">... </span>                                    <span class="p">(</span><span class="s2">&quot;Control 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 2&quot;</span><span class="p">)</span>
<span class="gp">... </span>                                  <span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_34_0.png" src="_images/tutorial_34_0.png" />
<p>The multi-two-group design also accomodates paired comparisons.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group_paired</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">((</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">,),</span>
<span class="gp">... </span>                                          <span class="p">(</span><span class="s2">&quot;Control 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 2&quot;</span><span class="p">)</span>
<span class="gp">... </span>                                         <span class="p">),</span>
<span class="gp">... </span>                                 <span class="n">paired</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s2">&quot;ID&quot;</span>
<span class="gp">... </span>                                <span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group_paired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_36_0.png" src="_images/tutorial_36_0.png" />
<p>The <strong>shared control plot</strong> displays another common experimental
paradigm, where several test samples are compared against a common
reference sample.</p>
<p>This type of Cumming plot is automatically generated if the tuple passed
to <code class="xref std std-keyword docutils literal notranslate"><span class="pre">idx</span></code> has more than two data columns.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shared_control</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 3&quot;</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="s2">&quot;Test 4&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 5&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 6&quot;</span><span class="p">)</span>
<span class="gp">... </span>                            <span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shared_control</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:31 2019.

Effect size(s) with 95% confidence intervals will be computed for:
1. Test 1 minus Control 1
2. Test 2 minus Control 1
3. Test 3 minus Control 1
4. Test 4 minus Control 1
5. Test 5 minus Control 1
6. Test 6 minus Control 1

5000 resamples will be used to generate the effect size bootstraps.
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shared_control</span><span class="o">.</span><span class="n">mean_diff</span>
</pre></div>
</div>
<pre class="literal-block">
DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:32 2019.

The unpaired mean difference between Control 1 and Test 1 is 0.48 [95%CI 0.205, 0.774].
The two-sided p-value of the Mann-Whitney test is 0.000813.

The unpaired mean difference between Control 1 and Test 2 is -0.542 [95%CI -0.915, -0.206].
The two-sided p-value of the Mann-Whitney test is 0.00572.

The unpaired mean difference between Control 1 and Test 3 is 0.174 [95%CI -0.273, 0.647].
The two-sided p-value of the Mann-Whitney test is 0.205.

The unpaired mean difference between Control 1 and Test 4 is 0.79 [95%CI 0.325, 1.33].
The two-sided p-value of the Mann-Whitney test is 0.0266.

The unpaired mean difference between Control 1 and Test 5 is 0.265 [95%CI 0.0115, 0.497].
The two-sided p-value of the Mann-Whitney test is 0.0206.

The unpaired mean difference between Control 1 and Test 6 is 0.288 [95%CI 0.00913, 0.524].
The two-sided p-value of the Mann-Whitney test is 0.0137.

5000 bootstrap samples were taken; the confidence interval is bias-corrected and accelerated.
The p-value(s) reported are the likelihood(s) of observing the effect size(s),
if the null hypothesis of zero difference is true.

To get the results of all valid statistical tests, use <cite>.mean_diff.statistical_tests</cite>
</pre>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shared_control</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_41_0.png" src="_images/tutorial_41_0.png" />
<p><code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> thus empowers you to robustly perform and elegantly present
complex visualizations and statistics.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_groups</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">idx</span><span class="o">=</span><span class="p">((</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">,),</span>
<span class="gp">... </span>                                <span class="p">(</span><span class="s2">&quot;Control 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 2&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 3&quot;</span><span class="p">),</span>
<span class="gp">... </span>                                <span class="p">(</span><span class="s2">&quot;Control 3&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 4&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 5&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 6&quot;</span><span class="p">)</span>
<span class="gp">... </span>                                <span class="p">)</span>
<span class="gp">... </span>                            <span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_groups</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:33 2019.

Effect size(s) with 95% confidence intervals will be computed for:
1. Test 1 minus Control 1
2. Test 2 minus Control 2
3. Test 3 minus Control 2
4. Test 4 minus Control 3
5. Test 5 minus Control 3
6. Test 6 minus Control 3

5000 resamples will be used to generate the effect size bootstraps.
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_groups</span><span class="o">.</span><span class="n">mean_diff</span>
</pre></div>
</div>
<pre class="literal-block">
DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:35 2019.

The unpaired mean difference between Control 1 and Test 1 is 0.48 [95%CI 0.205, 0.774].
The two-sided p-value of the Mann-Whitney test is 0.000813.

The unpaired mean difference between Control 2 and Test 2 is -1.38 [95%CI -1.93, -0.905].
The two-sided p-value of the Mann-Whitney test is 1.3e-05.

The unpaired mean difference between Control 2 and Test 3 is -0.666 [95%CI -1.29, -0.0788].
The two-sided p-value of the Mann-Whitney test is 0.0219.

The unpaired mean difference between Control 3 and Test 4 is 0.362 [95%CI -0.111, 0.901].
The two-sided p-value of the Mann-Whitney test is 0.182.

The unpaired mean difference between Control 3 and Test 5 is -0.164 [95%CI -0.398, 0.0747].
The two-sided p-value of the Mann-Whitney test is 0.0778.

The unpaired mean difference between Control 3 and Test 6 is -0.14 [95%CI -0.4, 0.0937].
The two-sided p-value of the Mann-Whitney test is 0.22.

5000 bootstrap samples were taken; the confidence interval is bias-corrected and accelerated.
The p-value(s) reported are the likelihood(s) of observing the effect size(s),
if the null hypothesis of zero difference is true.

To get the results of all valid statistical tests, use <cite>.mean_diff.statistical_tests</cite>
</pre>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_groups</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_46_0.png" src="_images/tutorial_46_0.png" />
<div class="section" id="using-long-aka-melted-data-frames">
<h3>Using long (aka ‘melted’) data frames<a class="headerlink" href="#using-long-aka-melted-data-frames" title="Permalink to this headline">¶</a></h3>
<p><code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> can also work with ‘melted’ or ‘long’ data.
This term isso used because each row will now correspond to a single datapoint,
with one column carrying the value and other columns carrying ‘metadata’
describing that datapoint.</p>
<p>More details on wide vs long or ‘melted’ data can be found in this
<a class="reference external" href="https://en.wikipedia.org/wiki/Wide_and_narrow_data">Wikipedia article</a>.
The <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.melt.html">pandas documentation</a>
gives recipes for melting dataframes.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;group&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;metric&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">value_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># select all but the &quot;Gender&quot; and &quot;ID&quot; columns.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">df_melted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span>
<span class="gp">... </span>                   <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Gender&quot;</span><span class="p">,</span> <span class="s2">&quot;ID&quot;</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="n">value_vars</span><span class="o">=</span><span class="n">value_cols</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">value_name</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">var_name</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">df_melted</span><span class="o">.</span><span class="n">head</span><span class="p">()</span> <span class="c1"># Gives the first five rows of `df_melted`.</span>
</pre></div>
</div>
<div>
<style scoped>
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Gender</th>
      <th>ID</th>
      <th>group</th>
      <th>metric</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Female</td>
      <td>1</td>
      <td>Control 1</td>
      <td>2.793984</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Female</td>
      <td>2</td>
      <td>Control 1</td>
      <td>3.236759</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Female</td>
      <td>3</td>
      <td>Control 1</td>
      <td>3.019149</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Female</td>
      <td>4</td>
      <td>Control 1</td>
      <td>2.804638</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Female</td>
      <td>5</td>
      <td>Control 1</td>
      <td>2.858019</td>
    </tr>
  </tbody>
</table>
</div><p>When your data is in this format, you will need to specify the <code class="xref std std-keyword docutils literal notranslate"><span class="pre">x</span></code> and
<code class="xref std std-keyword docutils literal notranslate"><span class="pre">y</span></code> columns in <code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest.load()</span></code>.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analysis_of_long_df</span> <span class="o">=</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">df_melted</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">idx</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Control 1&quot;</span><span class="p">,</span> <span class="s2">&quot;Test 1&quot;</span><span class="p">),</span>
<span class="gp">... </span>                                  <span class="n">x</span><span class="o">=</span><span class="s2">&quot;group&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;metric&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">analysis_of_long_df</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DABEST v0.2.1
=============

Good afternoon!
The current time is Mon Mar 11 16:19:36 2019.

Effect size(s) with 95% confidence intervals will be computed for:
1. Test 1 minus Control 1

5000 resamples will be used to generate the effect size bootstraps.
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analysis_of_long_df</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_52_0.png" src="_images/tutorial_52_0.png" />
</div>
<div class="section" id="controlling-plot-aesthetics">
<h3>Controlling plot aesthetics<a class="headerlink" href="#controlling-plot-aesthetics" title="Permalink to this headline">¶</a></h3>
<p>Changing the y-axes labels.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">swarm_label</span><span class="o">=</span><span class="s2">&quot;This is my</span><span class="se">\n</span><span class="s2">rawdata&quot;</span><span class="p">,</span>
<span class="go">                                   contrast_label=&quot;The bootstrap\ndistribtions!&quot;)</span>
</pre></div>
</div>
<img alt="_images/tutorial_55_0.png" src="_images/tutorial_55_0.png" />
<p>Color the rawdata according to another column in the dataframe.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color_col</span><span class="o">=</span><span class="s2">&quot;Gender&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_57_0.png" src="_images/tutorial_57_0.png" />
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">two_groups_paired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color_col</span><span class="o">=</span><span class="s2">&quot;Gender&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_58_0.png" src="_images/tutorial_58_0.png" />
<p>Changing the palette used with <code class="xref std std-keyword docutils literal notranslate"><span class="pre">custom_palette</span></code>. Any valid matplotlib
or seaborn color palette is accepted.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color_col</span><span class="o">=</span><span class="s2">&quot;Gender&quot;</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">custom_palette</span><span class="o">=</span><span class="s2">&quot;Dark2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_60_0.png" src="_images/tutorial_60_0.png" />
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">custom_palette</span><span class="o">=</span><span class="s2">&quot;Paired&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_61_0.png" src="_images/tutorial_61_0.png" />
<p>You can also create your own color palette. Create a dictionary where
the keys are group names, and the values are valid matplotlib colors.</p>
<p>You can specify matplotlib colors in a <a class="reference external" href="https://matplotlib.org/users/colors.html">variety of
ways</a>. Here, I demonstrate
using named colors, hex strings (commonly used on the web), and RGB
tuples.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_color_palette</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Control 1&quot;</span> <span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="s2">&quot;Test 1&quot;</span>    <span class="p">:</span> <span class="s2">&quot;purple&quot;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="s2">&quot;Control 2&quot;</span> <span class="p">:</span> <span class="s2">&quot;#cb4b16&quot;</span><span class="p">,</span>     <span class="c1"># This is a hex string.</span>
<span class="gp">... </span>                   <span class="s2">&quot;Test 2&quot;</span>    <span class="p">:</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span> <span class="c1"># This is a RGB tuple.</span>
<span class="gp">... </span>                  <span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">custom_palette</span><span class="o">=</span><span class="n">my_color_palette</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_63_0.png" src="_images/tutorial_63_0.png" />
<p>By default, <code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> will
<a class="reference external" href="https://en.wikipedia.org/wiki/Colorfulness#Saturation">desaturate</a>
the color of the dots in the swarmplot by 50%.
This draws attention to the effect size bootstrap curves.</p>
<p>You can alter the default values with the <code class="xref std std-keyword docutils literal notranslate"><span class="pre">swarm_desat</span></code> and
<code class="xref std std-keyword docutils literal notranslate"><span class="pre">halfviolin_desat</span></code> keywords.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">custom_palette</span><span class="o">=</span><span class="n">my_color_palette</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">swarm_desat</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">halfviolin_desat</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_64.png" src="_images/tutorial_64.png" />
<p>You can also change the sizes of the dots used in the rawdata swarmplot,
and those used to indicate the effect sizes.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">raw_marker_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">es_marker_size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_65_0.png" src="_images/tutorial_65_0.png" />
<p>Changing the y-limits for the rawdata axes, and for the contrast axes.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">swarm_ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>                            <span class="n">contrast_ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<img alt="_images/tutorial_67_0.png" src="_images/tutorial_67_0.png" />
<p>If your effect size is qualitatively inverted (ie. a smaller value is a
better outcome), you can simply invert the tuple passed to
<code class="xref std std-keyword docutils literal notranslate"><span class="pre">contrast_ylim</span></code>.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">contrast_ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                            <span class="n">contrast_label</span><span class="o">=</span><span class="s2">&quot;More negative is better!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="_images/tutorial_69_0.png" src="_images/tutorial_69_0.png" />
<p>You can add minor ticks and also change the tick frequency by accessing
the axes directly.</p>
<p>Each estimation plot produced by <code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> has 2 axes. The first one
contains the rawdata swarmplot; the second one contains the bootstrap
effect size differences.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="k">as</span> <span class="nn">Ticker</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">two_groups_unpaired</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rawswarm_axes</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contrast_axes</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rawswarm_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rawswarm_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">contrast_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contrast_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mf">0.25</span><span class="p">))</span>
</pre></div>
</div>
<img alt="_images/tutorial_71_0.png" src="_images/tutorial_71_0.png" />
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">swarm_ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span>
<span class="go">                               contrast_ylim=(-3, 1))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rawswarm_axes</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contrast_axes</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rawswarm_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rawswarm_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">contrast_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mf">0.5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contrast_axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">Ticker</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mf">0.25</span><span class="p">))</span>
</pre></div>
</div>
<img alt="_images/tutorial_72_0.png" src="_images/tutorial_72_0.png" />
<p>With v0.2.1, <code class="xref std std-keyword docutils literal notranslate"><span class="pre">dabest</span></code> can now apply <a class="reference external" href="https://matplotlib.org/tutorials/introductory/customizing.html">matplotlib style
sheets</a>
to estimation plots. You can refer to this
<a class="reference external" href="https://matplotlib.org/3.0.3/gallery/style_sheets/style_sheets_reference.html">gallery</a>
of style sheets for reference.</p>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;dark_background&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code ipython3 highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">multi_2group</span><span class="o">.</span><span class="n">mean_diff</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/tutorial_75_0.png" src="_images/tutorial_75_0.png" />
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">dabest</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=ACCLAB&repo=DABEST-python&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<p>
<a href="https://pypi.python.org/pypi/dabest/"><img src="https://badge.fury.io/py/dabest.svg" alt="PyPI version" height="18"></a>
</p><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="robust-beautiful.html">Robust and Beautiful Statistical Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="bootstraps.html">Bootstrap Confidence Intervals</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#load-libraries">Load Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-dataset-for-demo">Create dataset for demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-data">Loading Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#effect-sizes">Effect sizes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#producing-estimation-plots">Producing estimation plots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="getting-started.html" title="previous chapter">Getting Started</a></li>
      <li>Next: <a href="release-notes.html" title="next chapter">Release Notes</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Joses W. Ho.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/tutorial.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/ACCLAB/DABEST-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>